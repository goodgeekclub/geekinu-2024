(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{321:function(e,t,a){Promise.resolve().then(a.bind(a,8212))},7970:function(e,t,a){"use strict";a.d(t,{R:function(){return n}});var s=a(7362),l=a.n(s);l().configure({apiKey:"patPNpSEtu8FU43Vi.ad75eb0fb7a9bf22b3570b82bbe50f1f4d374b09ee26435b12b06be48687b648"});class n{async listRecords(){return this.base(this.table).select().all()}async updateRecord(e,t){return this.base(this.table).update(e,t)}constructor(e){this.baseId="appsK0JXjQOdY1fmx",this.base=l().base(this.baseId),this.table=e}}},8212:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(7437),l=a(2265),n=a(7970),i=a(5127),o=a(9749);let r=new n.R("Coupon"),u=new n.R("Applicant");function c(e,t){return e.substring(0,t).padEnd(4,"_")}function d(){let[e,t]=(0,l.useState)([]),[a,n]=(0,l.useState)([]),[d,b]=(0,l.useState)(""),[p,m]=(0,l.useState)(""),[f,x]=(0,l.useState)(""),[g,h]=(0,l.useState)(""),[y,v]=(0,l.useState)("");(0,l.useEffect)(()=>{r.listRecords().then(e=>t(e.slice())),u.listRecords().then(e=>n(e.slice()))},[]);let w=async t=>{t.preventDefault();let s=e.find(e=>e.fields.code===d),l=a.find(e=>e.fields.code===f),n=a.find(e=>e.fields.id===p);if(s&&"UNUSED"===s.fields.status){if(await r.updateRecord(s.id,{status:"USED"}),"NORMAL"===s.fields.type)l&&l.fields.id===p?v("Congratulations!! You have received a reward. \uD83C\uDF89\uD83C\uDF89"):h("Invalid applicant code or ID");else if("SPECIAL"===s.fields.type){let e=n.fields.code,t="";t=s&&"platinum"===s.fields.class?c(e,4):s&&"gold"===s.fields.class?c(e,3):s&&"silver"===s.fields.class?c(e,2):c(e,1),v("The location of the applicant's numbers for that ID is: ".concat(t))}}else h("Invalid coupon code or already used")};return(0,s.jsx)("div",{className:"w-full h-screen flex justify-center bg-white text-black",children:(0,s.jsxs)("div",{className:"w-[678px] h-full px-5 flex flex-col items-center justify-center space-y-5",children:[(0,s.jsxs)("form",{onSubmit:w,className:"w-full",children:[(0,s.jsxs)("div",{className:"mb-5 ",children:[(0,s.jsx)("label",{htmlFor:"text",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Coupon"}),(0,s.jsx)("input",{type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  ",placeholder:"",value:d,onChange:e=>{b(e.target.value),console.log("coupon:",e.target.value)},required:!0})]}),(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{htmlFor:"ID",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your ID"}),(0,s.jsx)("input",{type:"number",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"",value:p,onChange:e=>{m(e.target.value),console.log("id: ",e.target.value)},required:!0})]}),(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("label",{htmlFor:"Applicant",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Number"}),(0,s.jsx)("input",{type:"number",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5  [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",placeholder:"",value:f,onChange:e=>{x(e.target.value),console.log("applicant: ",e.target.value)},required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"mt-5 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center shadow-lg",children:"Submit"})]}),g&&(0,s.jsx)(i.M,{children:(0,s.jsx)(o.E.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{transitionEnd:{y:-10,opacity:0}},transition:{duration:.5},onAnimationComplete:()=>{setTimeout(()=>{h("")},1e4)},className:"mx-5 absolute top-0 bg-yellow-400 px-4 md:px-8 py-4 text-xs md:text-sm rounded-xl shadow-lg",children:g})}),y&&(0,s.jsx)(o.E.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},exit:{transitionEnd:{y:-10,opacity:0}},transition:{duration:.5},onAnimationComplete:()=>{setTimeout(()=>{v("")},1e4)},className:"mx-5 absolute top-0 bg-green-400 px-4 md:px-8 py-4 text-xs md:text-sm rounded-xl shadow-lg",children:y})]})})}}},function(e){e.O(0,[362,733,971,23,744],function(){return e(e.s=321)}),_N_E=e.O()}]);